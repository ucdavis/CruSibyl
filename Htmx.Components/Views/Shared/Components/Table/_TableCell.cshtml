@using Htmx.Components.Models.Table
@using System.Text.Encodings.Web

@model TableCellPartialModel

@{
    var value = Model.Column.GetValue(Model.Row);
    var isEditing = Model.Column.IsEditable && Model.Row.IsEditing;
}

@if (isEditing)
{
    var inputModel = Model.Column.GetInputModel(Model.Row);
    @await Html.PartialAsync("_Input", inputModel)
}
else
{
    @Html.Encode(value?.ToString())
}