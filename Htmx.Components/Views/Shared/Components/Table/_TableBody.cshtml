@using Htmx.Components.Table.Models
@model TableModel

<tbody id="table-body">
@foreach (var rowContext in Model.Data)
{
    <tr id="@rowContext.RowId">
        @foreach (var column in Model.Columns.Where(c => !c.IsHidden))
        {
            <td>
                @if (!string.IsNullOrEmpty(column.CellPartialView))
                {
                    var cellModel = new TableCellPartialModel { Row = rowContext, Column = column };
                    @await Html.PartialAsync(column.CellPartialView, cellModel)
                }
                else
                {
                    @(column.GetValue(rowContext.Item))
                }
            </td>
        }
    </tr>
}
</tbody>
